{"version":3,"file":"optfields.test.js","sourceRoot":"","sources":["../../../../test/unit/wizards/optfields.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { expect, fixture, html } from '@open-wc/testing';\nimport { SinonSpy, spy } from 'sinon';\n\nimport '../../../src/addons/Wizards.js';\nimport { Wizards } from '../../../src/addons/Wizards.js';\n\nimport { WizardSelect } from '../../../src/wizard-select.js';\nimport {\n  isReplace,\n  Replace,\n  WizardInputElement,\n} from '../../../src/foundation.js';\nimport { editOptFieldsWizard } from '../../../src/wizards/optfields.js';\n\ndescribe('Wizards for SCL OptFields element', () => {\n  let element: Wizards;\n  let optFields: Element;\n  let inputs: WizardInputElement[];\n\n  let primaryAction: HTMLElement;\n\n  let actionEvent: SinonSpy;\n\n  beforeEach(async () => {\n    element = await fixture(\n      html`<oscd-wizards .host=${document}></oscd-wizards>`\n    );\n    optFields = <Element>(\n      new DOMParser().parseFromString(\n        `<OptFields dataSet=\"true\" bufOvfl=\"true\"></OptFields>`,\n        'application/xml'\n      ).documentElement\n    );\n\n    actionEvent = spy();\n    window.addEventListener('editor-action', actionEvent);\n  });\n\n  describe('define an edit wizard that', () => {\n    beforeEach(async () => {\n      const wizard = editOptFieldsWizard(optFields);\n      element.workflow.push(() => wizard);\n      await element.requestUpdate();\n\n      inputs = Array.from(element.wizardUI.inputs);\n      await element.requestUpdate();\n\n      primaryAction = <HTMLElement>(\n        element.wizardUI.dialog?.querySelector(\n          'mwc-button[slot=\"primaryAction\"]'\n        )\n      );\n    });\n\n    it('looks like the latest snapshot', async () => {\n      await expect(element.wizardUI.dialog).dom.to.equalSnapshot();\n    }).timeout(5000);\n\n    it('does not update a OptFields element with no changed attributes', async () => {\n      primaryAction.click();\n      await element.requestUpdate();\n      expect(actionEvent.notCalled).to.be.true;\n    });\n\n    it('update the OptFields element with changed dataSet attribute', async () => {\n      const input = <WizardSelect>inputs[2];\n      input.maybeValue = 'false';\n      await input.requestUpdate();\n\n      primaryAction.click();\n      await element.requestUpdate();\n      expect(actionEvent).to.be.calledOnce;\n\n      const action = actionEvent.args[0][0].detail.action;\n      expect(action).to.satisfy(isReplace);\n\n      const updateAction = <Replace>action;\n      expect(updateAction.old.element).to.have.attribute('dataSet', 'true');\n      expect(updateAction.new.element).to.have.attribute('dataSet', 'false');\n    });\n\n    it('removes the OptFields attribute dataSet with nulled select', async () => {\n      const input = <WizardSelect>inputs[2];\n      input.nullSwitch?.click();\n      await input.requestUpdate();\n\n      primaryAction.click();\n      await element.requestUpdate();\n      expect(actionEvent).to.be.calledOnce;\n\n      const action = actionEvent.args[0][0].detail.action;\n      expect(action).to.satisfy(isReplace);\n\n      const updateAction = <Replace>action;\n      expect(updateAction.old.element).to.have.attribute('dataSet', 'true');\n      expect(updateAction.new.element).to.not.have.attribute('dataSet');\n    });\n\n    it('updates the OptFields element with changed seqNum attribute', async () => {\n      const input = <WizardSelect>inputs[0];\n      input.nullSwitch?.click();\n      input.maybeValue = 'true';\n      await input.requestUpdate();\n\n      primaryAction.click();\n      await element.requestUpdate();\n      expect(actionEvent).to.be.calledOnce;\n\n      const action = actionEvent.args[0][0].detail.action;\n      expect(action).to.satisfy(isReplace);\n\n      const updateAction = <Replace>action;\n      expect(updateAction.old.element).to.not.have.attribute('seqNum');\n      expect(updateAction.new.element).to.have.attribute('seqNum', 'true');\n    });\n\n    it('updates the OptFields element with changed timeStamp attribute', async () => {\n      const input = <WizardSelect>inputs[1];\n      input.nullSwitch?.click();\n      input.maybeValue = 'true';\n      await input.requestUpdate();\n\n      primaryAction.click();\n      await element.requestUpdate();\n      expect(actionEvent).to.be.calledOnce;\n\n      const action = actionEvent.args[0][0].detail.action;\n      expect(action).to.satisfy(isReplace);\n\n      const updateAction = <Replace>action;\n      expect(updateAction.old.element).to.not.have.attribute('timeStamp');\n      expect(updateAction.new.element).to.have.attribute('timeStamp', 'true');\n    });\n\n    it('updates the OptFields element with changed reasonCode attribute', async () => {\n      const input = <WizardSelect>inputs[3];\n      input.nullSwitch?.click();\n      input.maybeValue = 'true';\n      await input.requestUpdate();\n\n      primaryAction.click();\n      await element.requestUpdate();\n      expect(actionEvent).to.be.calledOnce;\n\n      const action = actionEvent.args[0][0].detail.action;\n      expect(action).to.satisfy(isReplace);\n\n      const updateAction = <Replace>action;\n      expect(updateAction.old.element).to.not.have.attribute('reasonCode');\n      expect(updateAction.new.element).to.have.attribute('reasonCode', 'true');\n    });\n\n    it('updates the OptFields element with changed dataRef attribute', async () => {\n      const input = <WizardSelect>inputs[4];\n      input.nullSwitch?.click();\n      input.maybeValue = 'true';\n      await input.requestUpdate();\n\n      primaryAction.click();\n      await element.requestUpdate();\n      expect(actionEvent).to.be.calledOnce;\n\n      const action = actionEvent.args[0][0].detail.action;\n      expect(action).to.satisfy(isReplace);\n\n      const updateAction = <Replace>action;\n      expect(updateAction.old.element).to.not.have.attribute('dataRef');\n      expect(updateAction.new.element).to.have.attribute('dataRef', 'true');\n    });\n\n    it('updates the OptFields element with changed entryID attribute', async () => {\n      const input = <WizardSelect>inputs[5];\n      input.nullSwitch?.click();\n      input.maybeValue = 'true';\n      await input.requestUpdate();\n\n      primaryAction.click();\n      await element.requestUpdate();\n      expect(actionEvent).to.be.calledOnce;\n\n      const action = actionEvent.args[0][0].detail.action;\n      expect(action).to.satisfy(isReplace);\n\n      const updateAction = <Replace>action;\n      expect(updateAction.old.element).to.not.have.attribute('entryID');\n      expect(updateAction.new.element).to.have.attribute('entryID', 'true');\n    });\n\n    it('updates the OptFields element with changed configRef attribute', async () => {\n      const input = <WizardSelect>inputs[6];\n      input.nullSwitch?.click();\n      input.maybeValue = 'true';\n      await input.requestUpdate();\n\n      primaryAction.click();\n      await element.requestUpdate();\n      expect(actionEvent).to.be.calledOnce;\n\n      const action = actionEvent.args[0][0].detail.action;\n      expect(action).to.satisfy(isReplace);\n\n      const updateAction = <Replace>action;\n      expect(updateAction.old.element).to.not.have.attribute('configRef');\n      expect(updateAction.new.element).to.have.attribute('configRef', 'true');\n    });\n\n    it('updates the OptFields element with changed bufOvfl attribute', async () => {\n      const input = <WizardSelect>inputs[7];\n      input.maybeValue = 'false';\n      await input.requestUpdate();\n\n      primaryAction.click();\n      await element.requestUpdate();\n      expect(actionEvent).to.be.calledOnce;\n\n      const action = actionEvent.args[0][0].detail.action;\n      expect(action).to.satisfy(isReplace);\n\n      const updateAction = <Replace>action;\n      expect(updateAction.old.element).to.have.attribute('bufOvfl', 'true');\n      expect(updateAction.new.element).to.have.attribute('bufOvfl', 'false');\n    });\n  });\n});\n"]}