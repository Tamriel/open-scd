{"version":3,"file":"finder-list.test.js","sourceRoot":"","sources":["../../../test/unit/finder-list.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { expect, fixture, html } from '@open-wc/testing';\nimport { html as litHTML } from 'lit';\n\nimport { ListItem } from '@material/mwc-list/mwc-list-item';\n\nimport '../../src/finder-list.js';\nimport { Directory, FinderList, Path } from '../../src/finder-list.js';\nimport { depth } from '../../src/foundation.js';\n\nconst pathA = ['e2', 'e1', 'e4'];\nconst pathB = ['e1', 'e4'];\nconst pathC = ['e3'];\nconst selectionA = { e2: { e1: { e4: {} } } };\n\nconst paths = [pathA, pathB, pathC];\nconst selection = {\n  e2: { e1: { e4: {} } },\n  e1: { e4: {} },\n  e3: {},\n};\n\nconst entries: Record<string, string[]> = {\n  e1: ['e2', 'e3', 'e4'],\n  e2: ['e3', 'e1'],\n  e3: [],\n  e4: ['e2', 'e1'],\n  e5: [],\n};\n\nfunction getTitle(path: Path): string {\n  return `Testing ${path[path.length - 1]}`;\n}\n\nfunction getDisplayString(entry: string, path: string[]) {\n  return 'Testing ' + path.length + ' ' + entry;\n}\n\nasync function read(path: Path): Promise<Directory> {\n  const dir = path[path.length - 1];\n  return {\n    path,\n    header: dir === 'e5' ? undefined : litHTML`<h2>${dir}</h2>`,\n    entries: entries[dir] ?? [],\n  };\n}\n\ndescribe('finder-list', () => {\n  let element: FinderList;\n\n  beforeEach(async () => {\n    element = await fixture(html`<finder-list></finder-list>`);\n  });\n\n  it('displays nothing with default properties', () =>\n    expect(element).property('container').to.be.empty);\n\n  it('translates given .paths into a .selection tree', () => {\n    element.paths = paths;\n    expect(element.selection).to.deep.equal(selection);\n  });\n\n  it('translates a given .selection tree into .paths', () => {\n    element.selection = selection;\n    expect(element.paths).to.deep.equal(paths);\n  });\n\n  it('lets you set a singleton .path directly', () => {\n    element.path = pathA;\n    expect(element.selection).to.deep.equal(selectionA);\n    expect(element.paths).to.deep.equal([pathA]);\n  });\n\n  it('lets you access a singleton .path directly', () => {\n    element.selection = selectionA;\n    expect(element.path).to.deep.equal(pathA);\n    expect(element.paths).to.deep.equal([pathA]);\n  });\n\n  it('shows an empty .path given empty .paths', () => {\n    element.paths = [];\n    expect(element.path).to.deep.equal([]);\n  });\n\n  describe('given a one-element .path with no header or entries', () => {\n    beforeEach(async () => {\n      element = await fixture(\n        html`<finder-list .path=${['e5']} .read=${read}></finder-list>`\n      );\n      await element.loaded;\n    });\n\n    it('displays no columns', async () =>\n      expect(element).property('container').property('children').to.be.empty);\n  });\n\n  describe('given a .path and a .read method', () => {\n    let items: ListItem[];\n\n    beforeEach(async () => {\n      element = await fixture(\n        html`<finder-list .path=${pathA} .read=${read}></finder-list>`\n      );\n      await element.loaded;\n      items = Array.from(\n        element.shadowRoot?.querySelectorAll('mwc-list-item') ?? []\n      );\n    });\n\n    it('displays one column per path element', () =>\n      expect(element)\n        .property('container')\n        .property('children')\n        .to.have.lengthOf(pathA.length));\n\n    describe('when provided with .getTitle and .getDisplayString methods', () => {\n      beforeEach(async () => {\n        element.getDisplayString = getDisplayString;\n        element.getTitle = getTitle;\n        element.requestUpdate();\n        await element.updateComplete;\n        await element.loaded;\n      });\n\n      it('overrides filtered-list searchFieldLabels using .getTitle', () => {\n        expect(element.container.querySelector('filtered-list'))\n          .property('searchFieldLabel')\n          .to.satisfy((l: string) => l.startsWith('Testing '));\n      });\n\n      it('overrides list-item text content using .getDisplayString', () => {\n        expect(element.container.querySelector('mwc-list-item'))\n          .property('text')\n          .to.satisfy((t: string) => t.startsWith('Testing '));\n      });\n\n      it('looks like its latest snapshot', async () =>\n        await expect(element).shadowDom.to.equalSnapshot());\n    });\n\n    describe('when an item in the last column is selected', () => {\n      const parent = pathA[pathA.length - 1];\n      const parentEntries = entries[parent];\n      const directory = parentEntries[parentEntries.length - 1];\n\n      beforeEach(async () => {\n        items[items.length - 1].click();\n        await element.updateComplete;\n        await element.loaded;\n      });\n\n      it('appends a new column to the container', () =>\n        expect(element)\n          .property('container')\n          .property('children')\n          .to.have.lengthOf(pathA.length + 1));\n\n      it(\"renders the selected directory's header at the top of the new column\", () =>\n        expect(element)\n          .property('container')\n          .property('lastElementChild')\n          .property('firstElementChild')\n          .to.have.text(directory)\n          .and.to.have.property('tagName', 'H2'));\n\n      it(\"renders the selected directory's children into a list below the header\", () =>\n        expect(element)\n          .property('container')\n          .property('lastElementChild')\n          .property('lastElementChild')\n          .property('children')\n          .to.have.lengthOf(entries[directory].length));\n\n      it('looks like its latest snapshot', async () =>\n        await expect(element).shadowDom.to.equalSnapshot());\n    });\n\n    describe('when an item in the first column is selected', () => {\n      const parent = pathA[0];\n      const parentEntries = entries[parent];\n      const directory = parentEntries[0];\n\n      beforeEach(async () => {\n        items[0].click();\n        await element.updateComplete;\n        await element.loaded;\n      });\n\n      it('replaces all but the first column with a new column', () =>\n        expect(element)\n          .property('container')\n          .property('children')\n          .to.have.lengthOf(2));\n\n      it(\"renders the selected directory's header at the top of the new column\", () =>\n        expect(element)\n          .property('container')\n          .property('lastElementChild')\n          .property('firstElementChild')\n          .to.have.text(directory)\n          .and.to.have.property('tagName', 'H2'));\n\n      it(\"renders the selected directory's children into a list below the header\", () =>\n        expect(element)\n          .property('container')\n          .property('lastElementChild')\n          .property('lastElementChild')\n          .property('children')\n          .to.have.lengthOf(entries[directory].length));\n\n      it('looks like its latest snapshot', async () =>\n        await expect(element).shadowDom.to.equalSnapshot());\n    });\n\n    describe('when the selected item in the first column is deselected', () => {\n      beforeEach(async () => {\n        items[1].click();\n        await element.updateComplete;\n        await element.loaded;\n      });\n\n      it('renders only the first column', () =>\n        expect(element)\n          .property('container')\n          .property('children')\n          .to.have.lengthOf(1));\n\n      it('looks like its latest snapshot', async () =>\n        await expect(element).shadowDom.to.equalSnapshot());\n    });\n  });\n\n  describe('given the \"multi\" attribute, some .paths, and a .read method', () => {\n    let items: ListItem[];\n\n    beforeEach(async () => {\n      element = await fixture(\n        html`<finder-list .paths=${paths} .read=${read} multi></finder-list>`\n      );\n      await element.loaded;\n      items = Array.from(\n        element.shadowRoot?.querySelectorAll('mwc-list-item') ?? []\n      );\n    });\n\n    it('displays one column per element of the longest path', () =>\n      expect(element)\n        .property('container')\n        .property('children')\n        .to.have.lengthOf(Math.max(...paths.map(p => p.length))));\n\n    it('displays one header and one list of entries per maximum length path in the last column', () =>\n      expect(element)\n        .property('container')\n        .property('lastElementChild')\n        .property('children')\n        .to.have.lengthOf(\n          2 *\n            paths.filter(path => path.length === depth(element.selection))\n              .length\n        ));\n\n    it('looks like its latest snapshot', async () =>\n      await expect(element).shadowDom.to.equalSnapshot());\n\n    describe('when an item in the first column is selected', () => {\n      const parent = paths[0][0];\n      const parentEntries = entries[parent];\n      const directory = parentEntries[0];\n\n      beforeEach(async () => {\n        items[0].click();\n        await element.updateComplete;\n        await element.loaded;\n      });\n\n      it(\"adds the selected directory's header to the second column\", () =>\n        expect(element)\n          .property('container')\n          .descendant('.column:nth-child(2)')\n          .descendant('h2:nth-child(3)')\n          .to.have.text(directory));\n\n      it(\"adds the selected directory's entries to the second column\", () =>\n        expect(element)\n          .property('container')\n          .descendant('.column:nth-child(2)')\n          .descendant('filtered-list:nth-child(4)')\n          .property('children')\n          .to.have.lengthOf(entries[directory].length));\n\n      it('looks like its latest snapshot', async () =>\n        await expect(element).shadowDom.to.equalSnapshot());\n    });\n\n    describe('when a selected item in the first column is deselected', () => {\n      beforeEach(async () => {\n        items[1].click();\n        await element.updateComplete;\n        await element.loaded;\n      });\n\n      it('removes the deselected directory from the second column', () =>\n        expect(element)\n          .property('container')\n          .descendant('.column:nth-child(2)')\n          .to.not.contain.html(\n            `<h2><!---->${entries[paths[0][0]][1]}<!----></h2>`\n          ));\n\n      it('looks like its latest snapshot', async () =>\n        await expect(element).shadowDom.to.equalSnapshot());\n    });\n  });\n});\n"]}