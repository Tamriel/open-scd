{"version":3,"file":"fcda-binding-list.test.js","sourceRoot":"","sources":["../../../../../test/unit/editors/subscription/fcda-binding-list.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { expect, fixture, html } from '@open-wc/testing';\n\nimport '../../../mock-open-scd.js';\nimport { MockOpenSCD } from '../../../mock-open-scd.js';\n\nimport { WizardTextField } from '../../../../src/wizard-textfield.js';\n\nimport '../../../../src/editors/subscription/fcda-binding-list.js';\nimport { FcdaBindingList } from '../../../../src/editors/subscription/fcda-binding-list.js';\n\nimport { SinonSpy, spy } from 'sinon';\nimport { ListItem } from '@material/mwc-list/mwc-list-item.js';\n\ndescribe('fcda-binding-list', () => {\n  let parent: MockOpenSCD;\n  let element: FcdaBindingList;\n  let doc: XMLDocument;\n\n  let selectEvent: SinonSpy;\n\n  beforeEach(async () => {\n    localStorage.clear();\n    selectEvent = spy();\n    window.addEventListener('fcda-select', selectEvent);\n  });\n\n  describe('without a doc loaded', () => {\n    beforeEach(async () => {\n      parent = await fixture(html`\n        <mock-open-scd><fcda-binding-list></fcda-binding-list></mock-open-scd>\n      `);\n\n      element = parent.getActivePlugin();\n      await parent.requestUpdate();\n    });\n\n    it('no event is fired, because no property are changed', () => {\n      expect(selectEvent).to.not.have.been.called;\n    });\n\n    it('looks like the latest snapshot', async () => {\n      element = await fixture(html`<fcda-binding-list></fcda-binding-list>`);\n\n      await expect(element).shadowDom.to.equalSnapshot();\n    });\n  });\n\n  describe('with a SampledValueControl doc loaded', () => {\n    beforeEach(async () => {\n      localStorage.clear();\n      doc = await fetch('/test/testfiles/editors/LaterBindingSMV2007B4.scd')\n        .then(response => response.text())\n        .then(str => new DOMParser().parseFromString(str, 'application/xml'));\n      parent = await fixture(html`\n        <mock-open-scd\n          ><fcda-binding-list\n            .doc=${doc}\n            controlTag=\"SampledValueControl\"\n            .includeLaterBinding=\"${true}\"\n          ></fcda-binding-list\n        ></mock-open-scd>\n      `);\n\n      element = parent.getPlugin<FcdaBindingList>('fcda-binding-list')!;\n      await parent.requestUpdate();\n    });\n\n    it('the SVC editor is opened', async () => {\n      // Select the first list item that has an edit button, this should be an SVC Element.\n      await (<HTMLElement>(\n        element?.shadowRoot?.querySelector(\n          'mwc-list-item > mwc-icon-button[icon=\"edit\"]'\n        )\n      )).click();\n      await parent.updateComplete;\n\n      // Select the name input field, this should have the same value as the first SampledValueControl in the IED.\n      const nameField = <WizardTextField>(\n        parent.wizardUI.dialog?.querySelector('wizard-textfield[label=\"name\"]')\n      );\n      expect(nameField.value).to.be.equal('fullSmv');\n    });\n\n    it('event is fired, but properties are undefined', () => {\n      expect(selectEvent).to.have.been.calledOnce;\n      expect(selectEvent.args[0][0].detail.selectedSvcElement).to.be.undefined;\n      expect(selectEvent.args[0][0].detail.selectedFcdaElement).to.be.undefined;\n    });\n\n    it('event is fired with selected elements', async () => {\n      selectEvent.resetHistory();\n\n      const listItem = Array.from(\n        element.shadowRoot?.querySelectorAll('mwc-list-item.subitem') ?? []\n      ).filter(listItem => {\n        const value = listItem.getAttribute('value') ?? '';\n        return (\n          value.includes('currentOnly') && value.includes('AmpSv instMag.i')\n        );\n      })[0];\n      (<HTMLElement>listItem).click();\n      await element.updateComplete;\n\n      expect(selectEvent).to.have.been.called;\n      expect(selectEvent.args[0][0].detail.control).to.equal(\n        doc.querySelector(\n          'IED[name=\"SMV_Publisher\"] LN0 > SampledValueControl[name=\"currentOnly\"]'\n        )\n      );\n      expect(selectEvent.args[0][0].detail.fcda).to.equal(\n        doc.querySelector(\n          'IED[name=\"SMV_Publisher\"] LN0 > DataSet[name=\"currentOnlysDataSet\"] > ' +\n            'FCDA[ldInst=\"CurrentTransformer\"][prefix=\"L1\"][lnClass=\"TCTR\"][lnInst=\"1\"][doName=\"AmpSv\"][daName=\"instMag.i\"][fc=\"MX\"]'\n        )\n      );\n    });\n\n    it('looks like the latest snapshot', async () => {\n      await expect(element).shadowDom.to.equalSnapshot();\n    });\n\n    it('is initially unfiltered', async () => {\n      const displayedElements = Array.from(\n        element.shadowRoot!.querySelectorAll('mwc-list-item')\n      ).filter(item => {\n        const displayStyle = getComputedStyle(item).display;\n        return displayStyle !== 'none' || displayStyle === undefined;\n      });\n      expect(displayedElements.length).to.equal(27);\n    });\n\n    it('allows filtering of only not subscribed control blocks', async () => {\n      element.actionsMenuIcon.click();\n      await element.updateComplete;\n      (<ListItem>(\n        element.actionsMenu!.querySelector('.filter-subscribed')\n      ))!.click();\n      await new Promise(resolve => setTimeout(resolve, 200)); // await animation\n      await element.updateComplete;\n\n      const fcdaList = element.shadowRoot?.querySelector('filtered-list');\n      const displayedElements = Array.from(\n        fcdaList!.querySelectorAll('mwc-list-item')!\n      ).filter(item => {\n        const displayStyle = getComputedStyle(item).display;\n        return displayStyle !== 'none' || displayStyle === undefined;\n      });\n      expect(displayedElements.length).to.equal(24);\n    });\n\n    it('allows filtering of only subscribed control blocks', async () => {\n      element.actionsMenuIcon.click();\n      await element.updateComplete;\n      (<ListItem>(\n        element.actionsMenu!.querySelector('.filter-not-subscribed')\n      ))!.click();\n      await new Promise(resolve => setTimeout(resolve, 200)); // await animation\n      await element.updateComplete;\n\n      const fcdaList = element.shadowRoot?.querySelector('filtered-list');\n      const displayedElements = Array.from(\n        fcdaList!.querySelectorAll('mwc-list-item')!\n      ).filter(item => {\n        const displayStyle = getComputedStyle(item).display;\n        return displayStyle !== 'none' || displayStyle === undefined;\n      });\n      expect(displayedElements.length).to.equal(5);\n    });\n\n    it('allows filtering out of all subscribed control blocks', async () => {\n      element.actionsMenuIcon.click();\n      await element.updateComplete;\n      (<ListItem>(\n        element.actionsMenu!.querySelector('.filter-subscribed')\n      ))!.click();\n      await new Promise(resolve => setTimeout(resolve, 300)); // await animation\n      await element.updateComplete;\n\n      element.actionsMenuIcon.click();\n      await element.updateComplete;\n      (<ListItem>(\n        element.actionsMenu!.querySelector('.filter-not-subscribed')\n      ))!.click();\n      await new Promise(resolve => setTimeout(resolve, 300)); // await animation\n      await element.updateComplete;\n\n      const fcdaList = element.shadowRoot?.querySelector('filtered-list');\n      const displayedElements = Array.from(\n        fcdaList!.querySelectorAll('mwc-list-item')!\n      ).filter(item => {\n        const displayStyle = getComputedStyle(item).display;\n        return displayStyle !== 'none' || displayStyle === undefined;\n      });\n      expect(displayedElements.length).to.equal(0);\n    });\n  });\n\n  describe('with a GSEControl doc loaded', () => {\n    beforeEach(async () => {\n      localStorage.clear();\n      doc = await fetch('/test/testfiles/editors/LaterBindingGOOSE2007B4.scd')\n        .then(response => response.text())\n        .then(str => new DOMParser().parseFromString(str, 'application/xml'));\n      parent = await fixture(html`\n        <mock-open-scd\n          ><fcda-binding-list\n            .doc=${doc}\n            controlTag=\"GSEControl\"\n            .includeLaterBinding=\"${true}\"\n          ></fcda-binding-list\n        ></mock-open-scd>\n      `);\n\n      element = parent.getPlugin<FcdaBindingList>('fcda-binding-list')!;\n      await parent.updateComplete;\n    });\n\n    it('the GOOSE editor is opened', async () => {\n      // Select the first list item that has an edit button, this should be an GOOSE Element.\n      await (<HTMLElement>(\n        element?.shadowRoot?.querySelector(\n          'mwc-list-item > mwc-icon-button[icon=\"edit\"]'\n        )\n      )).click();\n      await parent.updateComplete;\n\n      // Select the name input field, this should have the same value as the first GSEControl in the IED.\n      const nameField = <WizardTextField>(\n        parent.wizardUI.dialog?.querySelector('wizard-textfield[label=\"name\"]')\n      );\n      expect(nameField.value).to.be.equal('GOOSE2');\n    });\n\n    it('looks like the latest snapshot', async () => {\n      await expect(element).shadowDom.to.equalSnapshot();\n    });\n\n    it('is initially unfiltered', async () => {\n      const displayedElements = Array.from(\n        element.shadowRoot!.querySelectorAll('mwc-list-item')\n      ).filter(item => {\n        const displayStyle = getComputedStyle(item).display;\n        return displayStyle !== 'none' || displayStyle === undefined;\n      });\n      expect(displayedElements.length).to.equal(9);\n    });\n\n    it('allows filtering of only not subscribed control blocks', async () => {\n      element.actionsMenuIcon.click();\n      await element.updateComplete;\n      (<ListItem>(\n        element.actionsMenu!.querySelector('.filter-subscribed')\n      ))!.click();\n      await new Promise(resolve => setTimeout(resolve, 300)); // await animation\n      await element.updateComplete;\n\n      const fcdaList = element.shadowRoot?.querySelector('filtered-list');\n      const displayedElements = Array.from(\n        fcdaList!.querySelectorAll('mwc-list-item')!\n      ).filter(item => {\n        const displayStyle = getComputedStyle(item).display;\n        return displayStyle !== 'none' || displayStyle === undefined;\n      });\n      expect(displayedElements.length).to.equal(3);\n    });\n\n    it('allows filtering of only subscribed control blocks', async () => {\n      element.actionsMenuIcon.click();\n      await element.updateComplete;\n      (<ListItem>(\n        element.actionsMenu!.querySelector('.filter-not-subscribed')\n      ))!.click();\n      await new Promise(resolve => setTimeout(resolve, 300)); // await animation\n      await element.updateComplete;\n\n      const fcdaList = element.shadowRoot?.querySelector('filtered-list');\n      const displayedElements = Array.from(\n        fcdaList!.querySelectorAll('mwc-list-item')!\n      ).filter(item => {\n        const displayStyle = getComputedStyle(item).display;\n        return displayStyle !== 'none' || displayStyle === undefined;\n      });\n      expect(displayedElements.length).to.equal(6);\n    });\n\n    it('allows filtering out of all subscribed control blocks', async () => {\n      element.actionsMenuIcon.click();\n      await element.updateComplete;\n      (<ListItem>(\n        element.actionsMenu!.querySelector('.filter-subscribed')\n      ))!.click();\n      await new Promise(resolve => setTimeout(resolve, 300)); // await animation\n      await element.updateComplete;\n\n      element.actionsMenuIcon.click();\n      await element.updateComplete;\n      (<ListItem>(\n        element.actionsMenu!.querySelector('.filter-not-subscribed')\n      ))!.click();\n      await new Promise(resolve => setTimeout(resolve, 300)); // await animation\n      await element.updateComplete;\n\n      const fcdaList = element.shadowRoot?.querySelector('filtered-list');\n      const displayedElements = Array.from(\n        fcdaList!.querySelectorAll('mwc-list-item')!\n      ).filter(item => {\n        const displayStyle = getComputedStyle(item).display;\n        return displayStyle !== 'none' || displayStyle === undefined;\n      });\n      expect(displayedElements.length).to.equal(0);\n    });\n  });\n});\n"]}