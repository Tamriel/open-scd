{"version":3,"file":"subnetwork-editor.test.js","sourceRoot":"","sources":["../../../../../test/unit/editors/communication/subnetwork-editor.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { fixture, html, expect } from '@open-wc/testing';\n\nimport '../../../../src/editors/communication/subnetwork-editor.js';\nimport { SubNetworkEditor } from '../../../../src/editors/communication/subnetwork-editor.js';\n\ndescribe('subnetwork-editor', () => {\n  let doc: XMLDocument;\n  let element: SubNetworkEditor;\n  let subNetwork: Element;\n\n  beforeEach(async () => {\n    doc = await fetch('/test/testfiles/communication/communication.scd')\n      .then(response => response.text())\n      .then(str => new DOMParser().parseFromString(str, 'application/xml'));\n  });\n\n  describe('with child GSE elements', () => {\n    beforeEach(async () => {\n      subNetwork = doc.querySelector('SubNetwork[name=\"StationBus\"]')!;\n      element = <SubNetworkEditor>(\n        await fixture(\n          html`<subnetwork-editor\n            .doc=${doc}\n            .element=${subNetwork}\n          ></subnetwork-editor>`\n        )\n      );\n    });\n\n    it('looks like the latest snapshot', async () =>\n      await expect(element).shadowDom.to.equalSnapshot());\n\n    it('has a name property', () =>\n      expect(element).to.have.property('name', 'StationBus'));\n\n    it('indicates missing required name as UNDEFINED', async () => {\n      subNetwork.removeAttribute('name');\n      await element.requestUpdate();\n\n      expect(element).to.have.property('name', 'UNDEFINED');\n    });\n\n    it('has a desc property', () =>\n      expect(element).to.have.property('desc', 'desc'));\n\n    it('has a type property', () =>\n      expect(element).to.have.property('type', '8-MMS'));\n\n    it('return null with missing type attribute', async () => {\n      subNetwork.removeAttribute('type');\n      await element.requestUpdate();\n\n      expect(element).to.have.property('type', null);\n    });\n\n    it('has a BitRate property', () =>\n      expect(element).to.have.property('bitrate', '100.0 b/s'));\n\n    it('includes multiplier to bitrate property', async () => {\n      const bitrate = subNetwork.querySelector('BitRate');\n      bitrate?.setAttribute('multiplier', 'M');\n      await element.requestUpdate();\n\n      expect(element).to.have.property('bitrate', '100.0 Mb/s');\n    });\n\n    it('returns null with missing BitRate content event though BitRate exist as element', async () => {\n      const bitrate = subNetwork.querySelector('BitRate');\n      bitrate!.textContent = null;\n      bitrate?.setAttribute('multiplier', 'M');\n      await element.requestUpdate();\n\n      expect(element).to.have.property('bitrate', null);\n    });\n  });\n\n  describe('with child SMV elements', () => {\n    beforeEach(async () => {\n      subNetwork = doc.querySelector('SubNetwork[name=\"ProcessBus1\"]')!;\n      element = <SubNetworkEditor>(\n        await fixture(\n          html`<subnetwork-editor\n            .doc=${doc}\n            .element=${subNetwork}\n          ></subnetwork-editor>`\n        )\n      );\n    });\n\n    it('looks like the latest snapshot', async () =>\n      await expect(element).shadowDom.to.equalSnapshot());\n  });\n});\n"]}