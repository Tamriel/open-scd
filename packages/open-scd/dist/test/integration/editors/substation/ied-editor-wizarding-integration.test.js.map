{"version":3,"file":"ied-editor-wizarding-integration.test.js","sourceRoot":"","sources":["../../../../../test/integration/editors/substation/ied-editor-wizarding-integration.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { expect, fixture, html } from '@open-wc/testing';\n\nimport '../../../mock-wizard-editor.js';\nimport { MockWizardEditor } from '../../../mock-wizard-editor.js';\n\nimport '../../../../src/editors/substation/ied-editor.js';\nimport { FilteredList } from '../../../../src/filtered-list.js';\nimport { IedEditor } from '../../../../src/editors/substation/ied-editor.js';\n\ndescribe('IED editor component wizarding editing integration', () => {\n  let doc: XMLDocument;\n  let parent: MockWizardEditor;\n  let iededitor: IedEditor;\n\n  beforeEach(async () => {\n    doc = await fetch('/test/testfiles/valid2007B4.scd')\n      .then(response => response.text())\n      .then(str => new DOMParser().parseFromString(str, 'application/xml'));\n\n    const ied = doc.querySelector('IED[name=\"IED2\"]');\n\n    parent = <MockWizardEditor>(\n      await fixture(\n        html`<mock-wizard-editor\n          ><ied-editor .element=${ied}></ied-editor\n        ></mock-wizard-editor>`\n      )\n    );\n    iededitor = <IedEditor>parent.querySelector('ied-editor');\n    await parent.updateComplete;\n  });\n\n  it('opens select wizard showing GSEControl of one IED', async () => {\n    (<HTMLElement>(\n      iededitor.shadowRoot?.querySelector('mwc-fab[class=\"selectgse\"]')\n    )).click();\n    await parent.updateComplete;\n    await parent.wizardUI.updateComplete;\n\n    expect(parent.wizardUI.dialog).to.exist;\n    const gseControlList = <FilteredList>(\n      parent.wizardUI.dialog?.querySelector('filtered-list')\n    );\n    await gseControlList.updateComplete;\n\n    expect(gseControlList.items.length).to.equal(\n      doc.querySelectorAll('IED[name=\"IED2\"] GSEControl').length\n    );\n  });\n\n  it('opens select wizard showing ReportControl of one IED', async () => {\n    (<HTMLElement>(\n      iededitor.shadowRoot?.querySelector('mwc-fab[class=\"selectreport\"]')\n    )).click();\n    await parent.updateComplete;\n    await parent.wizardUI.updateComplete;\n\n    expect(parent.wizardUI.dialog).to.exist;\n    const reportControlList = <FilteredList>(\n      parent.wizardUI.dialog?.querySelector('filtered-list')\n    );\n    await reportControlList.updateComplete;\n\n    expect(reportControlList.items.length).to.equal(\n      doc.querySelectorAll('IED[name=\"IED2\"] ReportControl').length\n    );\n  });\n\n  it('opens wizard showing References of one IED', async () => {\n    (<HTMLElement>(\n      iededitor.shadowRoot?.querySelector('mwc-fab[class=\"delete\"]')\n    )).click();\n    await parent.updateComplete;\n    await parent.wizardUI.updateComplete;\n\n    expect(parent.wizardUI.dialog).to.exist;\n    const referencesList =\n      parent.wizardUI.dialog?.querySelectorAll('mwc-list-item');\n\n    expect(referencesList).to.be.not.undefined;\n    expect(referencesList!.length).to.equal(7);\n  });\n});\n"]}