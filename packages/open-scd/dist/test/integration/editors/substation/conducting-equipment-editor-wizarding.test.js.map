{"version":3,"file":"conducting-equipment-editor-wizarding.test.js","sourceRoot":"","sources":["../../../../../test/integration/editors/substation/conducting-equipment-editor-wizarding.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { fixture, html, expect } from '@open-wc/testing';\nimport fc from 'fast-check';\n\nimport '../../../../src/addons/Wizards.js';\nimport { Wizards } from '../../../../src/addons/Wizards.js';\n\nimport '../../../../src/editors/substation/conducting-equipment-editor.js';\nimport { regexString, regExp } from '../../../foundation.js';\n\ndescribe('conducting-equipment-editor wizarding integration', () => {\n  let doc: XMLDocument;\n  let parent: Wizards;\n\n  beforeEach(async () => {\n    doc = await fetch('/test/testfiles/valid2007B4.scd')\n      .then(response => response.text())\n      .then(str => new DOMParser().parseFromString(str, 'application/xml'));\n    parent = await fixture(\n      html`<oscd-wizards .host=${document}\n        ><conducting-equipment-editor\n          .element=${doc.querySelector('ConductingEquipment')}\n        ></conducting-equipment-editor\n      ></oscd-wizards>`\n    );\n\n    (<HTMLElement>(\n      parent\n        ?.querySelector('conducting-equipment-editor')\n        ?.shadowRoot?.querySelector('*[icon=\"edit\"]')\n    )).click();\n    await parent.updateComplete;\n  });\n  it('looks like the latest snapshot', async () => {\n    await expect(parent.wizardUI.dialog).to.equalSnapshot();\n  });\n  it('the first input element only displaying the type', () => {\n    expect(parent.wizardUI.inputs[0]).to.have.property('disabled', true);\n  });\n  describe('the second input element', () => {\n    it('edits the attribute name', async () => {\n      expect(parent.wizardUI.inputs[1].label).to.equal('name');\n    });\n    it('edits only for valid inputs', async () => {\n      await fc.assert(\n        fc.asyncProperty(regexString(regExp.tName, 1), async name => {\n          parent.wizardUI.inputs[1].value = name;\n          await parent.updateComplete;\n          expect(parent.wizardUI.inputs[0].checkValidity()).to.be.true;\n        })\n      );\n    });\n  });\n  describe('the third input element', () => {\n    it('edits the attribute desc', async () => {\n      expect(parent.wizardUI.inputs[2].label).to.equal('desc');\n    });\n    it('edits only for valid inputs', async () => {\n      await fc.assert(\n        fc.asyncProperty(regexString(regExp.desc), async desc => {\n          parent.wizardUI.inputs[2].value = desc;\n          await parent.updateComplete;\n          expect(parent.wizardUI.inputs[1].checkValidity()).to.be.true;\n        })\n      );\n    });\n  });\n});\n"]}